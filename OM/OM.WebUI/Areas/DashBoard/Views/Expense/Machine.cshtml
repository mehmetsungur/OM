@using OM.Entity.Complex.Expense
@{
    ViewBag.Title = "Machine";
    Layout = "~/Areas/DashBoard/Views/Shared/_Layout.cshtml";
}
@model List<ExpenseListVM>
<div class="row">
    <div class="col-12">
        <div class="card">
            <div class="card-body">
                <div class="col-sm-4">
                    <a href="#CreateMachine" class="btn btn-danger waves-effect waves-light"
                       data-animation="makeway" data-plugin="custommodal" data-overlaycolor="#72a3c1">
                        <i class="mdi mdi-plus-circle mr-1"></i> Yeni Gider
                    </a>
                </div>
                <div class="mt-2">
                </div>
                <table id="datatable-buttons" class="table table-striped dt-responsive nowrap">
                    <thead>
                        <tr>
                            <th>İşlem Tarihi</th>
                            <th>İşlem</th>
                            <th>Firma</th>
                            <th>Ödeme Tarihi</th>
                            <th>Tutar</th>
                            <th>Açıklama</th>
                            <th></th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (ExpenseListVM ex in Model)
                        {
                            <tr>
                                <td><span id="spnProcessDate">@ex.ProcessDate.ToShortDateString()</span></td>
                                <td><span id="spnProcess">@ex.Process</span></td>
                                <td><span id="spnCompanyName">@ex.CompanyName</span></td>
                                <td><span id="spnPayDate">@ex.PayDate.ToShortDateString()</span></td>
                                <td><span id="spnPrice">@ex.Price</span> ₺</td>
                                <td><span id="spnDescription">@ex.Description</span></td>
                                <td>
                                    <img id="imgMachineEdit" src="~/Areas/DashBoard/Content/img/Custom/DataTable/edit2.png" style="width:20px;" MachineId="@ex.Id" />
                                </td>
                                <td>
                                    <img id="imgMachineDelete" src="~/Areas/DashBoard/Content/img/Custom/DataTable/delete2.png" style="width:20px;" MachineId="@ex.Id" />
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
<div id="CreateMachine" class="modal-demo">
    <button type="button" class="close" onclick="Custombox.modal.close();">
        <span>&times;</span><span class="sr-only"></span>
    </button>
    <h4 class="custom-modal-title">Yeni Gider Ekle</h4>
    <div class="custom-modal-text text-left">
        <form id="frmMachine">
            <div class="row">
                <div class="form-group col-md-6">
                    <label>İşlem Tarihi *</label>
                    <input type="date" class="form-control" id="txtMachineProcessDate" name="txtMachineProcessDate" placeholder="İşlem Tarihi" required>
                </div>
                <div class="form-group col-md-6">
                    <label>İşlem *</label>
                    <input type="text" class="form-control" id="txtMachineProcess" name="txtMachineProcess" placeholder="İşlem" required>
                </div>
            </div>
            <div class="row">
                <div class="form-group col-md-6">
                    <label>Firma *</label>
                    <input type="text" class="form-control" id="txtMachineCompanyName" name="txtMachineCompanyName" placeholder="Firma" required>
                </div>
                <div class="form-group col-md-6">
                    <label>Ödeme Tarihi *</label>
                    <input type="date" class="form-control" id="txtMachinePayDate" name="txtMachinePayDate" placeholder="Ödeme Tarihi" required>
                </div>
            </div>
            <div class="row">
                <div class="form-group col-md-6">
                    <label>Tutar *</label>
                    <input type="text" class="form-control" id="txtMachinePrice" name="txtMachinePrice" placeholder="Tutar" required>
                </div>
                <div class="form-group col-md-6">
                    <label>Açıklama *</label>
                    <textarea class="form-control" id="txtMachineDescription" name="txtMachineDescription" rows="2" placeholder="Açıklama" required></textarea>
                </div>
            </div>
            <div class="text-right">
                <button type="button" id="btnMachineSave" class="btn btn-success waves-effect waves-light">Kaydet</button>
            </div>
        </form>
    </div>
</div>
<div class="portfolio-modal modal fade" id="divMachineEdit">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="container">
                <div class="row">
                    <div class="col-md-12 mx-auto">
                        <div class="modal-header">
                            <h4 class="text-uppercase" style="color:forestgreen;">MAKİNA GİDERİ GÜNCELLE</h4>
                        </div>
                        <div class="modal-body">
                            <input type="hidden" id="hfMachineIdEdit" />
                            <div class="row">
                                <div class="form-group col-md-6">
                                    <label>İşlem Tarihi</label>
                                    <input type="date" class="form-control" id="txtMachineEditProcessDate" placeholder="İşlem Tarihi" required>
                                </div>
                                <div class="form-group col-md-6">
                                    <label>İşlem</label>
                                    <input type="text" class="form-control" id="txtMachineEditProcess" placeholder="İşlem" required>
                                </div>
                            </div>
                            <div class="row">
                                <div class="form-group col-md-6">
                                    <label>Firma</label>
                                    <input type="text" class="form-control" id="txtMachineEditCompanyName" placeholder="Firma" required>
                                </div>
                                <div class="form-group col-md-6">
                                    <label>Ödeme Tarihi</label>
                                    <input type="date" class="form-control" id="txtMachineEditPayDate" placeholder="Ödeme Tarihi" required>
                                </div>
                            </div>
                            <div class="row">
                                <div class="form-group col-md-6">
                                    <label>Tutar</label>
                                    <input type="text" class="form-control" id="txtMachineEditPrice" placeholder="Tutar" required>
                                </div>
                                <div class="form-group col-md-6">
                                    <label>Açıklama *</label>
                                    <textarea class="form-control" id="txtMachineEditDescription" rows="2" placeholder="Açıklama" required></textarea>
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer pull-right">
                            <button id="btnMachineUpdate" type="button" class="btn btn-fill btn-success">Güncelle</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="~/Areas/DashBoard/Content/js/Custom/Search.js"></script>